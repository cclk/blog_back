---
title: 开源协议及常见开源软件使用的协议类型
date: 2017-04-14 09:24:32
categories:
reward: false
tags:
     - blog
---

![avatar](http://ooid5jqhw.bkt.clouddn.com/open-source.jpg)

## 1、GPL
GPL，是General Public License的缩写，是一份GNU通用公共授权非正式的中文翻译。它并非由自由软件基金会所发表，亦非使用GNU通用公共授权的软件的法定发布条款─直有GNU通用公共授权英文原文的版本始具有此等效力。

<!--more-->

### 使用
只要你用了任何该协议的库、甚至是一段代码，那么你的整个程序，不管以何种方式链接，都必须全部使用GPL协议、并遵循该协议开源。商业软件公司一般禁用GPL代码，但可以使用GPL的可执行文件和应用程序。

### 商业软件
商业软件不能使用GPL协议的代码。

### 常见开源软件
+ Linux
+ MySQL
+ GIT
+ OpenJDK
+ GCC

## 2、AGPL
AGPL是GPL的一个补充, 在GPL的基础上加了一些限制。原有的GPL协议，由于现在网络服务公司兴起（如：Google）产生了一定的漏洞，比如使用GPL的自由软件，但是并不发布与网络之中，则可以自由的使用GPL协议却不开源自己私有的解决方案。AGPL则增加了对此做法的约束。

AGPL这个协议的制定是为了避免一个GPL/LGPL协议中的漏洞，称之为 Web Service Loophole。这主要是由于 GPL是针对传统的软件分发模式的商业模式(以微软为代表), 如果你使用的GPL的代码作为基础完成你自己的软件，如果你要分发你的软件，你的软件必须也是GPL的。随着以Google为代表的软件作为服务的互联网公司的兴起，它们的“不分发软件，为客户提供网络服务”的商业模式就不受GPL协议的约束，所以Google公司在构筑他的搜索引擎的时候可以随心所欲的拿现有的GPL协议的开源代码，无需开源他的修改成果。AGPL协议在GPL协议的基础上加上了这个约束。

GPL的约束生效的前提是“发布”软件，即使用了GPL成分的软件通过互联网或光盘release软件，就必需明示地附上源代码，并且源代码和产品也受GPL保护。
这样如果不“发布”就可以不受约束了。比如使用GPL组件编写一个Web系统，不发布这个系统，但是用这个系统在线提供服务，同时不开源系统代码。

### 使用
即Affero GPL，是GPL的更严格版本。只要你用了任何该协议的库、甚至是一段代码，那么运行时和它相关的所有软件、包括通过网络联系的所有软件，必须全部遵循该协议开源。据律师说，它的要求范围连硬件都包括。所以，一般公司通常禁用任何AGPL代码。

### 商业软件
商业软件不能使用AGPL协议的代码。

## 3、LGPL
LGPL是 GNU Lesser General Public License (GNU 宽通用公共许可证)的缩写形式，旧称GNU Library General Public License (GNU 库通用公共许可证),后来改称作Lesser GPL，即为更宽松的GPL，在宽松程度上与BSD,Apache,XFree86 许可证相似。GPL(General Public License)和LGPL是GNU的两种License。越来越多的自由软件(Free Software)使用GPL作为其授权声明，如果对GPL一点都不了解，有可能在使用自由软件时违反GPL的授权，恐怕会有被起诉的风险。所以任何公司在使用自由软件之前应该保证在LGPL或其它GPL变种的授权下。

### 使用
就是GPL针对动态链接库放松要求了的版本，即允许非LGPL的代码动态链接到LGPL的模块。注意：不可以静态链接，否则你的代码也必须用LGPL协议开源。

### 商业软件
+ 商业软件可以使用，但不能修改LGPL协议的代码。
+ LGPL 允许商业软件通过类库引用(link)方式使用LGPL类库而不需要开源商业软件的代码。
+ 采用LGPL的代码，一般情况下它本身就是一个第三方库（别忘了LGPL最早的名字就是Library GPL），这时候开发人员仅仅用到了它的功能，而没有对库本身进行任何修改，那么开发人员也不必公布自己的商业源代码。但是如果你修改了这个库的代码，那么对不起，你修改的代码必须全部开源，并且协议也是LGPL，但除了库源码之外的商业代码，仍不必公布。
+ 如果以动态库方式调用,允许闭源发布商业软件，但是不得发布基于LGPL授权本身的产品（防止商业化，违反开源精神）。如果使用静态库方式链接则退化为GPL授权。   
+ 如果以静态库方式，则必须遵循以下规则：
    + 你必须在你的文档中说明，你的程序中使用了 LGPL 库，并且说明这个库是基于 LGPL 发布的；
    + 你必须在你的应用程序发布中包含一份 LGPL协议，通常就是那个文本文件；
    + 你必须开放使用了 LGPL 库代码的所有代码，例如某些封装器。但是，其他使用这些封装器的代码就不需要开放了；简单来说，LGPL协议要求，如果你的类使用了LGPL库的代码，那么必须把这个类开源。例如，如果你的程序 app.exe 每个源文件都使用了 LGPL 库的代码，那么你的所有源代码都要开源。为了避免这种情况，我们通常编写一个封装器，把 LGPL库的代码封装起来，这样就只需要开放这个封装器的代码，而其他使用了这个封装器的代码就不需要开放。
    + 你必须包含你的应用程序的余下部分的目标文件（通常就是我们所说的 .o 等等），或者是其他等价的文件。源代码并不是必须的。那些使用了封装器的程序不需要开源，但是你必须把你编译的那些中间文件开放出来，Windows 下就是那些 .o 文件。

### 常见开源软件
+ 7-Zip
+ FFmpeg

## 4、Apache
Apache Licence是著名的非盈利开源组织Apache采用的协议。该协议和BSD类似，同样鼓励代码共享和尊重原作者的著作权，同样允许代码修改，再发布（作为开源或商业软件）。需要满足的条件也和BSD类似：

需要给代码的用户一份Apache Licence如果你修改了代码，需要在被修改的文件中说明。在延伸的代码中（修改和有源代码衍生的代码中）需要带有原来代码中的协议，商标，专利声明和其他原来作者规定需要包含的说明。如果再发布的产品中包含一个Notice文件，则在Notice文件中需要带有Apache Licence。你可以在Notice中增加自己的许可，但不可以表现为对Apache Licence构成更改。Apache Licence也是对商业应用友好的许可。使用者也可以在需要的时候修改代码来满足需要并作为开源或商业产品发布/销售。

### 使用
修改版本必须保持其原始版权声明；修改过的文件要标明改动。

### 商业软件
商业软件可以使用，也可以修改使用Apache协议的代码。

### 常见开源软件
+ Tomcat
+ Subversion

## 5、BSD2

### 使用
修改版本必须保持其原始版权声明。

### 商业软件
商业软件可以使用，也可以修改使用BSD2协议的代码。

## 6、BSD3

### 使用
修改版本必须保持其原始版权声明。未经许可不得使用原作者或公司的名字做宣传。

### 商业软件
商业软件可以使用，也可以修改使用BSD3协议的代码。

## 7、MIT

### 使用
修改版本必须保持其原始版权声明。

### 商业软件
商业软件可以使用，也可以修改使用MIT协议的代码。

## 8、MIT

### 使用
修改版本必须保持其原始版权声明。如果发布了编译后的可执行文件，那么必须让对方可以取得MPL协议下程序的源码。

### 商业软件
商业软件可以使用，也可以修改MPL协议的代码，但修改后的代码版权归软件的发起者。

## 9、常见c++开源类库
| 库 | 协议 | 商业软件是否可以使用 |
|----|-----|--------------------|
|boost|boost许可协议|可以使用|
|tinyxml|zlib/libpng许可协议|可以使用|
|jsonCPP|MIT|可以使用|
|jrtplib|无（官方有协议）|可以使用(you can use the library in any way you like)|
|log4cpp|LGPL|可以使用(动态库方式,0.2.1以上版本)|
|ffmpeg|GPL/LGPL|可以使用(动态库方式)；默认编译模块（不包含GPL，不支持H264）|
|libx264|GPL|不可以|
|vlc|GPL|不可以|
|qt|LGPL|可以使用(动态库方式,4.5以上版本)|
|live555|LGPL|可以使用(动态库方式)|
|librtmp|LGPL|可以使用(动态库方式)|
|curl|无（官方有协议）|可以使用|
|protobuf|New BSD|可以使用|
|openssl|Apache|可以使用|
|glog|google|可以使用|
